<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.k66.cxzt.mapper.UserMapper">
    <select id="getByUsernameOrMobile" resultType="com.k66.cxzt.model.User">
     select id,
            username,
            password,
            mobile,
            email,
            type,
            open_id openId,
            region,
            company
       from t_user
      where type = #{type}
      <if test="null != username">
        and username = #{username}
      </if>
      <if test="null != mobile">
        and mobile = #{mobile}
      </if>
    </select>

    <select id="get" resultType="com.k66.cxzt.model.User">
        select id,
               username,
               password,
               mobile,
               email,
               type,
               open_id openId,
               region,
               company
          from t_user
         where id = #{id}
    </select>
</mapper>